<ng-container>
  <div class="col-8 mt-4">
    <h4>Edit User</h4>
    <form #f="ngForm" (ngSubmit)="onSubmit()">
      <div class="form-group my-3">
        <label for="firstName">First Name:</label>
        <input type="text" name="firstName" #firstName="ngModel" [(ngModel)]="model.firstName" required id="firstName"
          class="form-control">
        <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
          <div class="text-danger" *ngIf="firstName.errors?.required">
            First Name required
          </div>
        </div>
      </div>

      <div class="form-group my-3">
        <label for="lastName">Last Name:</label>
        <input type="text" name="lastName" ngModel #lastName="ngModel" [(ngModel)]="model.lastName" required
          id="lastName" class="form-control form-control-lg">
        <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
          <div class="text-danger" *ngIf="lastName.errors?.required">
            Last Name required
          </div>
        </div>
      </div>

      <div class="form-group my-3">
        <label for="email">Email Address:</label>
        <input type="email" name="email" #email="ngModel" [(ngModel)]="model.email" required id="email"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" class="form-control">
        <div *ngIf="email.invalid && (email.dirty || email.touched)">
          <div class="text-danger" *ngIf="email.errors?.required">
            Email Address required
          </div>
          <div class="text-danger" *ngIf="email.errors?.['pattern']">
            Email is not valid
          </div>
        </div>
      </div>

      <div class="form-group my-3">
        <label for="phone">Phone Number:</label>
        <input type="text" name="phone" #phone="ngModel" [(ngModel)]="model.phone" required minlength="10"
          pattern="^[0-9]*$" id="phone" class="form-control">
        <div *ngIf="phone.invalid && (phone.dirty || phone.touched)">
          <div class="text-danger" *ngIf="phone.errors?.required">
            Phone Number required
          </div>
          <div class="text-danger" *ngIf="phone.errors?.['pattern']">
            Phone Number is not valid
          </div>
          <div *ngIf="phone.errors?.['minlength']" class="text-danger">
            Phone Number must be at least 10 characters long.
          </div>
        </div>
      </div>

      <div class="form-group my-3">
        <label for="purpose">Type of Purchasing:</label>
        <select name="purpose" id="purpose" [(ngModel)]="model.purpose" class="form-control form-select">
          <option value="Other">Other</option>
          <option value="Private Customer">Private Customer</option>
          <option value="Wholesale Business">Wholesale Business</option>
          <option value="Franchise Member">Franchise Member</option>
        </select>
      </div>

      <div class="form-group my-3">
        <div class="row">
          <div class="col-3"> <label for="birthday">Date of Birth:</label></div>
          <div class="col-4">
            <input type="date" name="birthday" #birthday="ngModel" [(ngModel)]="model.birthday" required id="birthday"
              class="form-control">
            <div *ngIf="birthday.invalid && (birthday.dirty || birthday.touched)">
              <div class="text-danger" *ngIf="birthday.errors?.required">
                Required
              </div>
            </div>
          </div>
          <div class="col-5"></div>
        </div>
      </div>

      <div class="form-group my-3">
        <div class="row ">
          <div class="col-3">Gender:</div>
          <div class="col-2">
            <input type="radio" name="gender" [(ngModel)]="model.gender" value="Male"> Male
          </div>
          <div class="col-4"><input type="radio" name="gender" [(ngModel)]="model.gender" value="Female">
            Female</div>
          <div class="col-3"></div>
        </div>
      </div>

      <div class="row">
        <div class="col-6">
          <div class="form-group my-3" *ngIf="!model.isFranchise">
            <div class="row">
              <div class="col-4"> <label for="testScore">Test Score(%):</label></div>
              <div class="col-4">
                <input type="number" name="testScore" #testScore="ngModel" [(ngModel)]="model.testScore" id="testScore"
                  pattern="0" class="form-control">
              </div>
              <div class="col-4"></div>
              <div *ngIf="testScore.invalid && (testScore.dirty || testScore.touched)">
                <div class="text-danger" *ngIf="testScore.errors?.['pattern']">
                  Can be updated only to 0!
                </div>
              </div>
            </div>
          </div>

          <div class="form-group my-3">
            <div class="row">
              <div class="col-3">Is Manager</div>
              <div class="col-3 form-check">
                <input type="checkbox" [checked]="model.isManager" (change)="model.isManager = !model.isManager"
                  name="isManager" class="form-check-input">
              </div>
              <div class="col-3">Is Support</div>
              <div class="col-3 form-check">
                <input type="checkbox" [checked]="model.isSupport" (change)="model.isSupport = !model.isSupport"
                  name="isSupport" class="form-check-input">
              </div>
              <div class="col-3"></div>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="form-group my-3" *ngIf="model.isPrime">
            <div class="row">
              <div class="col-3"> <label for="coupon">Coupon:</label></div>
              <div class="col-5">
                <input type="text" name="coupon" required [(ngModel)]="model.coupon" id="coupon" class="form-control">
              </div>
              <div class="col-4"></div>
            </div>
          </div>
        </div>
      </div>

      <button class="btn btn-info m-2" [routerLink]="['/users/admin-users']">
        <fa-icon [icon]="faArrowLeft" type="button"></fa-icon> Back To
        List
      </button>
      <button class="btn btn-warning" type="submit" [disabled]="!f.form.valid">
        Edit User <fa-icon [icon]="faEdit"> </fa-icon>
      </button>
    </form>
  </div>
</ng-container>