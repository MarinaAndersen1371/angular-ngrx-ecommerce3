<ng-container *ngIf="vm$ | async as vm">
  <header class="header">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" [routerLink]="['home']">MarWeb Trade</a>
        <a class="information" [routerLink]="['info-english']">Info</a>
        <div class="togglebutton">
          <button class="btn btn-lg btn-outline-info" (click)="open(content)"> <span
              class="navbar-toggler-icon"></span></button>
        </div>
        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/products']">
                <fa-icon [icon]="faShoppingCart"></fa-icon> Go Shopping
                <ng-container *ngIf="vmUser$ | async as vmUser">
                  <span *ngIf="vmUser.user.cartCount > 0" class="text-danger">({{vmUser.user.cartCount}})</span>
                </ng-container>
              </a>
            </li>
            <div class="btn-group" dropdown *ngIf="vm.isAdmin">
              <button id="button-basic" dropdownToggle type="button" class="btn btn-danger dropdown-toggle"
                aria-controls="dropdown-basic"> Admin </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/products/admin-products']">Products</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/users/admin-users']">Users</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/users/admin-primelist']">Premium</a>
                </li>
                <li role="menuitem"><a class="dropdown-item"
                    [routerLink]="['/users/admin-franchiselist']">Franchising</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/tickets/admin-tickets']">Tickets</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-orders']">Orders</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-invoices']">Invoices</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-delivery']">Delivery</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-returns']">Returns</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-devices']">Devices</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-vouchers']">Vouchers</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-packages']">Packages</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/admin-overview']">Overview</a>
                </li>
              </ul>
            </div>

            <div class="btn-group" dropdown *ngIf="vm.isManager">
              <button id="button-basic" dropdownToggle type="button" class="btn btn-danger dropdown-toggle"
                aria-controls="dropdown-basic"> Manager </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/products/manager-products']">Products</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/users/manager-users']">Users</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/users/manager-primelist']">Premium</a>
                </li>
                <li role="menuitem"><a class="dropdown-item"
                    [routerLink]="['/users/manager-franchiselist']">Franchising</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/tickets/manager-tickets']">Tickets</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-orders']">Orders</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-invoices']">Invoices</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-delivery']">Delivery</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-returns']">Returns</a>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-devices']">Devices</a>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-vouchers']">Vouchers</a>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-packages']">Packages</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/manager-overview']">Overview</a>
                </li>
              </ul>
            </div>

            <div class="btn-group" dropdown *ngIf="vm.isSupport">
              <button id="button-basic" dropdownToggle type="button" class="btn btn-danger dropdown-toggle"
                aria-controls="dropdown-basic"> Support </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/tickets/support-tickets']">Tickets</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/support-orders']">Orders</a></li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/support-devices']">Devices</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/support-delivery']">Delivery</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/orders/support-returns']">Returns</a>
                </li>
              </ul>
            </div>

            <div class="btn-group" dropdown *ngIf="vm.isFranchise">
              <button id="button-basic" dropdownToggle type="button" class="btn btn-danger dropdown-toggle"
                aria-controls="dropdown-basic"> Franchising </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/products/franchise-list']">Products</a>
                </li>
                <li role="menuitem"><a class="dropdown-item" [routerLink]="['/users/franchise/info']">Info</a></li>
              </ul>
            </div>
          </ul>
        </div>
      </div>
    </nav>

    <ng-template #content let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title"><a [routerLink]="['/products']" (click)="d('Cross click')">
            <fa-icon [icon]="faShoppingCart"></fa-icon> Go Shopping
          </a></h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
      </div>
      <div class="modal-body">
        <span *ngIf="vm.isAdmin">
          <fa-icon [icon]="faUserShield" class="text-danger"></fa-icon> Admin Lists
          <ul>
            <li><a [routerLink]="['/products/admin-products']" (click)="d('Cross click')">Products</a></li>
            <li><a [routerLink]="['/users/admin-users']" (click)="d('Cross click')">Users</a></li>
            <li><a [routerLink]="['/users/admin-primelist']" (click)="d('Cross click')">Premium</a></li>
            <li><a [routerLink]="['/users/admin-franchiselist']" (click)="d('Cross click')">Franchising</a></li>
            <li><a [routerLink]="['/tickets/admin-tickets']" (click)="d('Cross click')">Tickets</a></li>
            <li><a [routerLink]="['/orders/admin-orders']" (click)="d('Cross click')">Orders</a></li>
            <li><a [routerLink]="['/orders/admin-invoices']" (click)="d('Cross click')">Invoices</a></li>
            <li><a [routerLink]="['/orders/admin-delivery']" (click)="d('Cross click')">Delivery</a></li>
            <li><a [routerLink]="['/orders/admin-returns']" (click)="d('Cross click')">Returns</a></li>
            <li><a [routerLink]="['/orders/admin-devices']" (click)="d('Cross click')">Devices</a></li>
            <li><a [routerLink]="['/orders/admin-vouchers']" (click)="d('Cross click')">Vouchers</a></li>
            <li><a [routerLink]="['/orders/admin-packages']" (click)="d('Cross click')">Packages</a></li>
            <li><a [routerLink]="['/orders/admin-overview']" (click)="d('Cross click')">Overview</a></li>
          </ul>
        </span>

        <span *ngIf="vm.isManager">
          <fa-icon [icon]="faUserShield" class="text-danger"></fa-icon> Manager Lists
          <ul>
            <li><a [routerLink]="['/products/manager-products']" (click)="d('Cross click')">Products</a></li>
            <li><a [routerLink]="['/users/manager-users']" (click)="d('Cross click')">Users</a></li>
            <li><a [routerLink]="['/users/manager-primelist']" (click)="d('Cross click')">Premium</a></li>
            <li><a [routerLink]="['/users/manager-franchiselist']" (click)="d('Cross click')">Franchising</a></li>
            <li><a [routerLink]="['/tickets/manager-tickets']" (click)="d('Cross click')">Tickets</a></li>
            <li><a [routerLink]="['/orders/manager-orders']" (click)="d('Cross click')">Orders</a></li>
            <li><a [routerLink]="['/orders/manager-invoices']" (click)="d('Cross click')">Invoices</a></li>
            <li><a [routerLink]="['/orders/manager-delivery']" (click)="d('Cross click')">Delivery</a></li>
            <li><a [routerLink]="['/orders/manager-returns']" (click)="d('Cross click')">Returns</a></li>
            <li><a [routerLink]="['/orders/manager-devices']" (click)="d('Cross click')">Devices</a></li>
            <li><a [routerLink]="['/orders/manager-vouchers']" (click)="d('Cross click')">Vouchers</a></li>
            <li><a [routerLink]="['/orders/manager-packages']" (click)="d('Cross click')">Packages</a></li>
            <li><a [routerLink]="['/orders/manager-overview']" (click)="d('Cross click')">Overview</a></li>
          </ul>
        </span>

        <span *ngIf="vm.isSupport">
          <fa-icon [icon]="faUserShield" class="text-danger"></fa-icon> Support Lists
          <ul>
            <li><a [routerLink]="['/tickets/support-tickets']" (click)="d('Cross click')">Tickets</a></li>
            <li><a [routerLink]="['/orders/support-orders']" (click)="d('Cross click')">Orders</a></li>
            <li><a [routerLink]="['/orders/support-devices']" (click)="d('Cross click')">Devices</a></li>
            <li><a [routerLink]="['/orders/support-delivery']" (click)="d('Cross click')">Delivery</a></li>
            <li><a [routerLink]="['/orders/support-returns']" (click)="d('Cross click')">Returns</a></li>
          </ul>
        </span>

        <span *ngIf="vm.isFranchise">
          <fa-icon [icon]="faUserShield" class="text-danger"></fa-icon> Franchising
          <ul>
            <li><a [routerLink]="['/products/franchise-list']" (click)="d('Cross click')">Products</a></li>
            <li><a [routerLink]="['/users/franchise/info']" (click)="d('Cross click')">Info</a></li>
          </ul>
        </span>

        <span *ngIf="vm.isLoggedIn">
          <fa-icon [icon]="faUser" class="text-info"></fa-icon> {{vm.firstName}}<ul>
            <li><a [routerLink]="['/users/user-cart', vm._id]" (click)="d('Cross click')">
                My Cart
              </a></li>
            <li><a [routerLink]="['/orders/myorders']" (click)="d('Cross click')">
                My Orders
              </a></li>
            <li><a [routerLink]="['/users/user-profile', vm._id]" (click)="d('Cross click')">
                My Profile
              </a></li>
            <li><a [routerLink]="['/mails/mymails']" (click)="d('Cross click')">
                My Mails
              </a></li>
            <li> <a (click)="logout()">
                <fa-icon [icon]="faSignOutAlt"></fa-icon> Logout
              </a></li>
          </ul>
        </span>
        <span *ngIf="!vm.isLoggedIn">
          <ul>
            <li><a [routerLink]="['/users/register']" (click)="d('Cross click')">
                <fa-icon [icon]=" faUserPlus"></fa-icon>
                Register
              </a></li>
            <li><a [routerLink]="['/users/login']" (click)="d('Cross click')">
                <fa-icon [icon]=" faSignInAlt"></fa-icon>
                Sign In
              </a></li>
          </ul>
        </span>
      </div>
    </ng-template>
  </header>
</ng-container>